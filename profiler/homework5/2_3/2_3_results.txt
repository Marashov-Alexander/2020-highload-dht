2/3
PUT

./wrk -c 64 -d 4m -t1 -s ../../2020-highload-dht/profiler/scripts/putS2.lua --latency -R2000 http://localhost:8080
Running 4m test @ http://localhost:8080
  1 threads and 64 connections
  Thread calibration: mean lat.: 0.911ms, rate sampling interval: 10ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency     0.92ms  446.02us   9.20ms   67.89%
    Req/Sec     2.06k   133.67     3.78k    61.11%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    0.91ms
 75.000%    1.21ms
 90.000%    1.44ms
 99.000%    1.93ms
 99.900%    4.22ms
 99.990%    7.01ms
 99.999%    8.49ms
100.000%    9.21ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       0.104     0.000000            1         1.00
       0.346     0.100000        46159         1.11
       0.508     0.200000        91969         1.25
       0.664     0.300000       137976         1.43
       0.785     0.400000       184050         1.67
       0.914     0.500000       229932         2.00
       0.970     0.550000       252860         2.22
       1.025     0.600000       275679         2.50
       1.087     0.650000       298934         2.86
       1.151     0.700000       321582         3.33
       1.214     0.750000       344611         4.00
       1.247     0.775000       356244         4.44
       1.282     0.800000       367512         5.00
       1.321     0.825000       379185         5.71
       1.359     0.850000       390764         6.67
       1.395     0.875000       402020         8.00
       1.415     0.887500       407746         8.89
       1.438     0.900000       413561        10.00
       1.465     0.912500       419184        11.43
       1.502     0.925000       424920        13.33
       1.553     0.937500       430715        16.00
       1.580     0.943750       433593        17.78
       1.610     0.950000       436446        20.00
       1.642     0.956250       439298        22.86
       1.677     0.962500       442180        26.67
       1.714     0.968750       445021        32.00
       1.733     0.971875       446462        35.56
       1.753     0.975000       447935        40.00
       1.774     0.978125       449361        45.71
       1.799     0.981250       450785        53.33
       1.833     0.984375       452187        64.00
       1.858     0.985938       452905        71.11
       1.885     0.987500       453632        80.00
       1.913     0.989062       454348        91.43
       1.945     0.990625       455058       106.67
       1.986     0.992188       455774       128.00
       2.009     0.992969       456146       142.22
       2.034     0.993750       456492       160.00
       2.069     0.994531       456864       182.86
       2.113     0.995313       457206       213.33
       2.153     0.996094       457578       256.00
       2.171     0.996484       457744       284.44
       2.197     0.996875       457924       320.00
       2.229     0.997266       458106       365.71
       2.273     0.997656       458291       426.67
       2.523     0.998047       458461       512.00
       2.779     0.998242       458551       568.89
       3.107     0.998437       458641       640.00
       3.421     0.998633       458730       731.43
       3.867     0.998828       458820       853.33
       4.267     0.999023       458910      1024.00
       4.479     0.999121       458955      1137.78
       4.731     0.999219       459002      1280.00
       4.971     0.999316       459045      1462.86
       5.243     0.999414       459089      1706.67
       5.491     0.999512       459134      2048.00
       5.619     0.999561       459157      2275.56
       5.759     0.999609       459179      2560.00
       5.859     0.999658       459201      2925.71
       6.031     0.999707       459225      3413.33
       6.231     0.999756       459246      4096.00
       6.351     0.999780       459259      4551.11
       6.423     0.999805       459270      5120.00
       6.555     0.999829       459280      5851.43
       6.655     0.999854       459291      6826.67
       6.839     0.999878       459302      8192.00
       6.951     0.999890       459308      9102.22
       7.059     0.999902       459314     10240.00
       7.099     0.999915       459319     11702.86
       7.263     0.999927       459325     13653.33
       7.387     0.999939       459330     16384.00
       7.455     0.999945       459333     18204.44
       7.499     0.999951       459336     20480.00
       7.575     0.999957       459339     23405.71
       7.691     0.999963       459342     27306.67
       7.735     0.999969       459344     32768.00
       7.831     0.999973       459346     36408.89
       7.891     0.999976       459347     40960.00
       7.995     0.999979       459349     46811.43
       8.027     0.999982       459350     54613.33
       8.247     0.999985       459351     65536.00
       8.375     0.999986       459352     72817.78
       8.487     0.999988       459353     81920.00
       8.711     0.999989       459354     93622.86
       8.711     0.999991       459354    109226.67
       9.055     0.999992       459355    131072.00
       9.055     0.999993       459355    145635.56
       9.063     0.999994       459356    163840.00
       9.063     0.999995       459356    187245.71
       9.063     0.999995       459356    218453.33
       9.151     0.999996       459357    262144.00
       9.151     0.999997       459357    291271.11
       9.151     0.999997       459357    327680.00
       9.151     0.999997       459357    374491.43
       9.151     0.999998       459357    436906.67
       9.207     0.999998       459358    524288.00
       9.207     1.000000       459358          inf
#[Mean    =        0.919, StdDeviation   =        0.446]
#[Max     =        9.200, Total count    =       459358]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  479714 requests in 4.00m, 30.65MB read
Requests/sec:   1998.81
Transfer/sec:    130.78KB

GET

./wrk -c 64 -d 4m -t1 -s ../../2020-highload-dht/profiler/scripts/getS2.lua --latency -R2000 http://localhost:8080
Running 4m test @ http://localhost:8080
  1 threads and 64 connections
  Thread calibration: mean lat.: 1.192ms, rate sampling interval: 10ms
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency     1.18ms  493.67us  22.35ms   65.45%
    Req/Sec     2.10k   125.57     5.20k    82.69%
  Latency Distribution (HdrHistogram - Recorded Latency)
 50.000%    1.14ms
 75.000%    1.53ms
 90.000%    1.83ms
 99.000%    2.30ms
 99.900%    2.68ms
 99.990%    4.90ms
 99.999%   19.63ms
100.000%   22.37ms

  Detailed Percentile spectrum:
       Value   Percentile   TotalCount 1/(1-Percentile)

       0.195     0.000000            1         1.00
       0.564     0.100000        45943         1.11
       0.718     0.200000        92092         1.25
       0.857     0.300000       138152         1.43
       0.990     0.400000       183822         1.67
       1.136     0.500000       229787         2.00
       1.211     0.550000       252714         2.22
       1.287     0.600000       275679         2.50
       1.365     0.650000       298760         2.86
       1.444     0.700000       321793         3.33
       1.526     0.750000       344588         4.00
       1.570     0.775000       356057         4.44
       1.615     0.800000       367580         5.00
       1.662     0.825000       378983         5.71
       1.713     0.850000       390559         6.67
       1.769     0.875000       402092         8.00
       1.799     0.887500       407821         8.89
       1.830     0.900000       413473        10.00
       1.864     0.912500       419305        11.43
       1.900     0.925000       425009        13.33
       1.942     0.937500       430789        16.00
       1.965     0.943750       433616        17.78
       1.990     0.950000       436460        20.00
       2.018     0.956250       439360        22.86
       2.049     0.962500       442261        26.67
       2.085     0.968750       445108        32.00
       2.105     0.971875       446512        35.56
       2.127     0.975000       447889        40.00
       2.153     0.978125       449347        45.71
       2.183     0.981250       450826        53.33
       2.215     0.984375       452213        64.00
       2.235     0.985938       452973        71.11
       2.255     0.987500       453660        80.00
       2.279     0.989062       454387        91.43
       2.305     0.990625       455081       106.67
       2.339     0.992188       455787       128.00
       2.357     0.992969       456135       142.22
       2.379     0.993750       456506       160.00
       2.401     0.994531       456862       182.86
       2.425     0.995313       457217       213.33
       2.455     0.996094       457583       256.00
       2.471     0.996484       457752       284.44
       2.491     0.996875       457935       320.00
       2.513     0.997266       458125       365.71
       2.537     0.997656       458293       426.67
       2.565     0.998047       458467       512.00
       2.583     0.998242       458552       568.89
       2.601     0.998437       458644       640.00
       2.623     0.998633       458732       731.43
       2.651     0.998828       458822       853.33
       2.681     0.999023       458911      1024.00
       2.705     0.999121       458956      1137.78
       2.747     0.999219       459003      1280.00
       2.779     0.999316       459046      1462.86
       2.839     0.999414       459091      1706.67
       2.919     0.999512       459135      2048.00
       2.969     0.999561       459158      2275.56
       3.047     0.999609       459180      2560.00
       3.129     0.999658       459203      2925.71
       3.207     0.999707       459225      3413.33
       3.429     0.999756       459247      4096.00
       3.611     0.999780       459259      4551.11
       3.791     0.999805       459270      5120.00
       3.947     0.999829       459281      5851.43
       4.171     0.999854       459292      6826.67
       4.499     0.999878       459303      8192.00
       4.755     0.999890       459309      9102.22
       5.015     0.999902       459315     10240.00
       5.459     0.999915       459320     11702.86
       7.151     0.999927       459326     13653.33
       8.623     0.999939       459331     16384.00
       9.655     0.999945       459334     18204.44
      11.975     0.999951       459337     20480.00
      13.511     0.999957       459340     23405.71
      15.327     0.999963       459343     27306.67
      16.167     0.999969       459345     32768.00
      17.119     0.999973       459347     36408.89
      17.231     0.999976       459348     40960.00
      17.951     0.999979       459350     46811.43
      19.279     0.999982       459351     54613.33
      19.551     0.999985       459352     65536.00
      19.631     0.999986       459354     72817.78
      19.631     0.999988       459354     81920.00
      20.047     0.999989       459355     93622.86
      20.047     0.999991       459355    109226.67
      20.511     0.999992       459356    131072.00
      20.511     0.999993       459356    145635.56
      21.151     0.999994       459357    163840.00
      21.151     0.999995       459357    187245.71
      21.151     0.999995       459357    218453.33
      21.695     0.999996       459358    262144.00
      21.695     0.999997       459358    291271.11
      21.695     0.999997       459358    327680.00
      21.695     0.999997       459358    374491.43
      21.695     0.999998       459358    436906.67
      22.367     0.999998       459359    524288.00
      22.367     1.000000       459359          inf
#[Mean    =        1.175, StdDeviation   =        0.494]
#[Max     =       22.352, Total count    =       459359]
#[Buckets =           27, SubBuckets     =         2048]
----------------------------------------------------------
  479715 requests in 4.00m, 33.74MB read
Requests/sec:   1998.81
Transfer/sec:    143.95KB